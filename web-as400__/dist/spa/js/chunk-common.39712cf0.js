"use strict";(self["webpackChunkweb_as400"]=self["webpackChunkweb_as400"]||[]).push([[64],{1390:(e,r,t)=>{t.d(r,{o:()=>s});t(6701);var i=t(7831);t(589);const s=(0,i.Q_)("as",{state:()=>({currentUser:"",queries:[],files:[],fastFiles:[],users:[],filenames:[]}),getters:{getCurrentUser:e=>e.currentUser,getQueries:e=>e.queries,getFiles:e=>e.files,getUsers:e=>e.users,getFilenames:e=>e.filenames,getFastFiles:e=>e.fastFiles},actions:{setCurrentUser(e){this.currentUser=e},async getQueriesAction(e){let r="http://"+window.location.hostname+":3300/files/all/?library="+e.lib+"&tablename="+e.fileName;e.lib,e.fileName;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.queries=i},async getFilesAction(e){let r="http://"+window.location.hostname+":3300/files/PRTFFLD1/?library="+e.lib+"&tablename="+e.fileName;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.files=i},async getFastFilesAction(e){let r="http://"+window.location.hostname+":3300/files/PRTFFLD_SMART/?search_word="+e.search_word+"&user="+e.user+"&all="+e.all;e.search_word,e.user,e.all;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.fastFiles=i},async getUsersAction(e){let r="http://"+window.location.hostname+":3300/files/SCHEMA/?library="+e.user;e.user;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.users=i},async getFilenamesAction(e){const r="http://"+window.location.hostname+":3300/files/FILENAMES/?library="+e.filename,t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.filenames=i}}})},5214:(e,r,t)=>{t.d(r,{H:()=>s});t(6701);var i=t(7831);const s=(0,i.Q_)("pref",{state:()=>({userPref:[],insertOrDeleteStatus:null}),getters:{getUserPref:e=>e.userPref,getInsertOrDeleteStatus:e=>e.insertOrDeleteStatus,getUserPrefAsObj:e=>{if(e.userPref.length<1)return[];var r=[];return r.push({label:e.userPref[0].PREFL1,value:e.userPref[0].PREFL1}),"NULL"!==e.userPref[0].PREFL2&&""!==e.userPref[0].PREFL2.trim()&&r.push({label:e.userPref[0].PREFL2,value:e.userPref[0].PREFL2}),"NULL"!==e.userPref[0].PREFL3&&""!==e.userPref[0].PREFL3.trim()&&r.push({label:e.userPref[0].PREFL3,value:e.userPref[0].PREFL3}),"NULL"!==e.userPref[0].PREFL4&&""!==e.userPref[0].PREFL4.trim()&&r.push({label:e.userPref[0].PREFL4,value:e.userPref[0].PREFL4}),"NULL"!==e.userPref[0].PREFL5&&""!==e.userPref[0].PREFL5.trim()&&r.push({label:e.userPref[0].PREFL5,value:e.userPref[0].PREFL5}),r}},actions:{async setUserPref(e){let r="http://"+window.location.hostname+":3300/files/USERPREF/?user="+e;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.userPref=i},async insertOrUpdateUserPrefs(e){let r="http://"+window.location.hostname+":3300/files/inserOrUpdatePref/?libdat="+e.user+"&PREFL1="+e.prefl1+"&PREFL2="+e.prefl2+"&PREFL3="+e.prefl3+"&PREFL4="+e.prefl4+"&PREFL5="+e.prefl5;e.user,e.prefl1,e.prefl2,e.prefl3,e.prefl4,e.prefl5;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.insertOrDeleteStatus=i}}})},6041:(e,r,t)=>{t.d(r,{U:()=>a});t(6701),t(3610),t(5363);var i=t(7831),s=t(1959);const a=(0,i.Q_)("query",{state:()=>({queries:(0,s.iH)([]),gError:(0,s.iH)(null),queriesSaved:(0,s.iH)([]),queriesSavedStatus:null,loaderUserQuery:!1,loadingTable:!1,dialog:(0,s.iH)(!1),title:(0,s.iH)(""),sqlQuery:(0,s.iH)(""),note:(0,s.iH)(""),launchQueryPrefered:(0,s.iH)(!1),filter:(0,s.iH)(""),grid:!1,createDialog:!1,select:(0,s.iH)("SELECT * FROM "),where:(0,s.iH)(" WHERE "),toggleWhere:!1,preview:(0,s.iH)(""),libdatM:(0,s.iH)(null),optionLibdat:(0,s.iH)([]),stringOptLibdat:(0,s.iH)([]),fileM:(0,s.iH)(null),optionFile:s.iH[[]],stringOptFile:(0,s.iH)([]),filenamesArray:[],loadingFileM:!1,rows:[],columns:[{name:"COLUMN_NAME",label:"CAMPO",field:"COLUMN_NAME",sortable:!0,align:"center"},{name:"COLUMN_TEXT",label:"DESCRIZIONE",field:"COLUMN_TEXT",sortable:!0,align:"left"},{name:"KEY_COLUMN",label:"CHIAVE",field:"KEY_COLUMN",sortable:!0,align:"left"},{name:"VALUE",label:"VALUE",sortable:!0,align:"left"}],columsLoading:!1,selected:(0,s.iH)([]),whereCompose:(0,s.iH)("")}),getters:{getQueryresult:e=>e.queries,getQueriesSaved:e=>e.queriesSaved,getLibl:e=>e.optionLibdat,getFilenames:e=>e.optionFile,getColumns:e=>e.rows,getSelected:e=>e.selected},actions:{setPreview(){var e=this.preview.substring(0,this.preview.indexOf("WHERE"))+" WHERE ";this.selected.forEach((r=>{e+="\n"+r.COLUMN_NAME+" = "+("CHAR"===r.DATA_TYPE?"' '":"")+"     AND "})),this.selected.length&&(e=e.slice(0,-4)),this.preview=e,this.compila()},sqlAutomati(){if(this.createDialog){var e="";null!=this.fileM&&(e=this.fileM.split("--\x3e",1)[0].trim()),this.preview=this.select+this.libdatM+"."+e+(this.toggleWhere?this.where:""),this.compila()}},compila(){this.sqlQuery=this.preview},async getColumsAction(e){let r="http://"+window.location.hostname+":3300/files/PRTFFLD1/?library="+e.lib+"&tablename="+e.fileName;e.lib,e.fileName;console.log(r);const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.rows=i},async getFilenamesAction(e){const r="http://"+window.location.hostname+":3300/files/FILENAMES/?library="+e.filename,t=(e.filename,await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"})),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.optionFile=i},async getLibdatAction(e){let r="http://"+window.location.hostname+":3300/files/SCHEMA/?library="+e.user;e.user;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);this.optionLibdat=i},async excecQuery(e){let r="http://"+window.location.hostname+":3300/files/?str="+e;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();i.error?this.gError=i:(this.gError=null,this.queries=i)},async insertUserQuery(e){let r="http://"+window.location.hostname+":3300/files/inserOrUpdateUserQuery/?libdat="+e.user+"&title="+e.title+"&sqlstr="+e.sqlstr+"&note="+e.note;e.user,e.title,e.sqlstr,e.note;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);500!==i.code&&(this.queriesSavedStatus=i,await this.selectUserQuery(e.user))},async selectUserQuery(e){let r="http://"+window.location.hostname+":3300/files/selectUserQuery/?libdat="+e;const t=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await t.json();if(!t.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+t.status);500!==i.code&&(this.queriesSaved=i.map((e=>e.SQLSTR.includes("`")?{...e,SQLSTR:e.SQLSTR.replace(new RegExp("`","g"),"'")}:e)))},async deleteUserQuery(e,r){let t="http://"+window.location.hostname+":3300/files/deleteUserQuery/?libdat="+e+"&title="+r;const i=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),s=await i.json();if(!i.ok)throw 409===s.code?new Error(s.message):new Error("Request failed with error code: "+i.status);500!==s.code&&(this.selectUserQuery(e),await this.selectUserQuery(queryObj.user))}}})}}]);