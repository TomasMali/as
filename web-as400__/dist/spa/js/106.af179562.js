"use strict";(globalThis["webpackChunkweb_as400"]=globalThis["webpackChunkweb_as400"]||[]).push([[106],{8106:(e,o,r)=>{r.r(o),r.d(o,{default:()=>q});var a=r(3673),t=r(1959),l=(r(6701),r(1907)),i=r(589);const s=(0,l.Q_)("uttil",{state:()=>({utilizzatori:[],search:(0,t.iH)(""),showoccurence:(0,t.iH)(!1),loading:!1,filter:"",grid:!1}),getters:{getUtilizzatori:e=>e.utilizzatori},actions:{async setUtilizzatori(e){let o="http://"+window.location.hostname+":3300/utilizzatori/find/?as="+i.Z.getItem("as")+"&userDb="+i.Z.getItem("userDb")+"&showoccurence="+e.showoccurence+"&programName="+e.programName;console.log(o);const r=await fetch(o,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),a=await r.json();if(!r.ok)throw 409===a.code?new Error(a.message):new Error("Request failed with error code: "+r.status);this.utilizzatori=a,this.sendLogsAction("as="+i.Z.getItem("as")+" userDb="+i.Z.getItem("userDb")+"  showoccurence="+e.showoccurence+"  programName="+e.programName)},async sendLogsAction(e){let o="http://"+window.location.hostname+":3300/db2/log/?log="+i.Z.getItem("currentUser")+" UTILIZZATORE: ---\x3e      \n\n"+e;const r=await fetch(o,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),a=await r.json();if(!r.ok)throw 409===a.code?new Error(a.message):new Error("Request failed with error code: "+r.status)}}}),n={class:"row q-pa-md"},c={class:"q-mx-xl scritta"},d={__name:"Utilizzatore",setup(e){const o=s(),r=()=>{l()},l=async()=>{try{const e={showoccurence:o.showoccurence?"s":"",programName:o.search};console.log(e),o.loading=!0,await o.setUtilizzatori(e),console.log(o.getUtilizzatori),o.loading=!1}catch(e){console.log(e)}};return(e,l)=>{const i=(0,a.up)("q-icon"),s=(0,a.up)("q-input"),d=(0,a.up)("q-btn"),m=(0,a.up)("q-toggle"),u=(0,a.up)("q-card-section"),g=(0,a.up)("q-card"),p=(0,a.up)("q-inner-loading"),h=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(g,{bordered:"",class:"q-my-sm q-mx-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:""},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a.Wm)(s,{class:"q-mr-sm",dense:"",square:"",color:"primary","label-color":"primary",outlined:"",clearable:"",modelValue:(0,t.SU)(o).search,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.SU)(o).search=e),label:"Cerca un programma o file"},{append:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"bolt",color:"primary"})])),_:1},8,["modelValue"]),(0,a.Wm)(d,{dense:"",inline:"",color:"primary q-ml-sm",label:"Search","icon-right":"send",onClick:r,disable:(0,t.SU)(o).search.length<3},null,8,["disable"]),(0,a._)("div",c,[(0,a.Wm)(m,{dense:"",modelValue:(0,t.SU)(o).showoccurence,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,t.SU)(o).showoccurence=e),size:"xl",icon:"visibility",label:"Mostra Occorrenze",color:"purple"},null,8,["modelValue"])])])])),_:1})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"text-subtitle2 my-sticky-header-table","table-header-class":"text-white ",rows:(0,t.SU)(o).utilizzatori,"row-key":"utStore.getUtilizzatori.SRCCT",dense:"","auto-width":"",loading:(0,t.SU)(o).loading,boarderd:"",title:"Risultato programmi",separator:"cell",style:{height:"720px"},filter:(0,t.SU)(o).filter,rowsPerPage:1e4,"rows-per-page-options":[0,8,18],ref:"tabCol",grid:(0,t.SU)(o).grid},{"top-right":(0,a.w5)((()=>[(0,a.Wm)(s,{borderless:"",dense:"",debounce:"300",modelValue:(0,t.SU)(o).filter,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,t.SU)(o).filter=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(i,{name:"search",color:"white"}),(0,a.Wm)(m,{modelValue:(0,t.SU)(o).grid,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,t.SU)(o).grid=e),color:"red",label:"Grid"},null,8,["modelValue"])])),_:1},8,["modelValue"])])),loading:(0,a.w5)((()=>[(0,a.Wm)(p,{showing:"",color:"primary"})])),_:1},8,["rows","loading","filter","grid"])])),_:1})])),_:1})])}}};var m=r(151),u=r(5589),g=r(4842),p=r(4554),h=r(8240),w=r(8886),b=r(8107),f=r(6941),U=r(6115),z=r(7518),y=r.n(z);const S=d,q=S;y()(d,"components",{QCard:m.Z,QCardSection:u.Z,QInput:g.Z,QIcon:p.Z,QBtn:h.Z,QToggle:w.Z,QTable:b.Z,QInnerLoading:f.Z,QField:U.Z})}}]);