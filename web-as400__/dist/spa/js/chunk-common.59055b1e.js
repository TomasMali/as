"use strict";(globalThis["webpackChunkweb_as400"]=globalThis["webpackChunkweb_as400"]||[]).push([[64],{1390:(e,t,r)=>{r.d(t,{o:()=>a});r(6701);var i=r(1907),s=r(589);const a=(0,i.Q_)("as",{state:()=>({currentUser:"",queries:[],files:[],fastFiles:[],users:[],filenames:[]}),getters:{getCurrentUser:e=>e.currentUser,getQueries:e=>e.queries,getFiles:e=>e.files,getUsers:e=>e.users,getFilenames:e=>e.filenames,getFastFiles:e=>e.fastFiles},actions:{setCurrentUser(e){this.currentUser=e},async getQueriesAction(e){let t="http://"+window.location.hostname+":3300/files/all/?library="+e.lib+"&tablename="+e.fileName+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.queries=i},async getFilesAction(e){let t="http://"+window.location.hostname+":3300/files/PRTFFLD1/?library="+e.lib+"&tablename="+e.fileName+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.files=i},async getFastFilesAction(e){let t="http://"+window.location.hostname+":3300/files/PRTFFLD_SMART/?search_word="+e.search_word+"&user="+e.user+"&all="+e.all+"&searchFile="+e.searchFile+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.fastFiles=i},async getUsersAction(e){let t="http://"+window.location.hostname+":3300/files/SCHEMA/?library="+e.user+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.users=i},async getFilenamesAction(e){const t="http://"+window.location.hostname+":3300/files/FILENAMES/?library="+(null==e.filename?"":e.filename)+"&as="+s.Z.getItem("as"),r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.filenames=i}}})},5214:(e,t,r)=>{r.d(t,{H:()=>a});r(6701);var i=r(1907),s=r(589);const a=(0,i.Q_)("pref",{state:()=>({userPref:[],insertOrDeleteStatus:null}),getters:{getUserPref:e=>e.userPref,getInsertOrDeleteStatus:e=>e.insertOrDeleteStatus,getUserPrefAsObj:e=>{if(e.userPref.length<1)return[];var t=[];return t.push({label:e.userPref[0].PREFL1,value:e.userPref[0].PREFL1}),"NULL"!==e.userPref[0].PREFL2&&""!==e.userPref[0].PREFL2.trim()&&t.push({label:e.userPref[0].PREFL2,value:e.userPref[0].PREFL2}),"NULL"!==e.userPref[0].PREFL3&&""!==e.userPref[0].PREFL3.trim()&&t.push({label:e.userPref[0].PREFL3,value:e.userPref[0].PREFL3}),"NULL"!==e.userPref[0].PREFL4&&""!==e.userPref[0].PREFL4.trim()&&t.push({label:e.userPref[0].PREFL4,value:e.userPref[0].PREFL4}),"NULL"!==e.userPref[0].PREFL5&&""!==e.userPref[0].PREFL5.trim()&&t.push({label:e.userPref[0].PREFL5,value:e.userPref[0].PREFL5}),t}},actions:{async setUserPref(e){let t="http://"+window.location.hostname+":3300/files/USERPREF/?user="+e+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.userPref=i},async insertOrUpdateUserPrefs(e){let t="http://"+window.location.hostname+":3300/files/inserOrUpdatePref/?libdat="+e.user+"&PREFL1="+e.prefl1+"&PREFL2="+e.prefl2+"&PREFL3="+e.prefl3+"&PREFL4="+e.prefl4+"&PREFL5="+e.prefl5+"&as="+s.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.insertOrDeleteStatus=i}}})},6041:(e,t,r)=>{r.d(t,{U:()=>o});r(6701),r(3610),r(5363);var i=r(1907),s=r(1959),a=r(589);const o=(0,i.Q_)("query",{state:()=>({queries:(0,s.iH)([]),gError:(0,s.iH)(null),queriesSaved:(0,s.iH)([]),queriesSavedStatus:null,loaderUserQuery:!1,loadingTable:!1,dialog:(0,s.iH)(!1),title:(0,s.iH)(""),sqlQuery:(0,s.iH)(""),note:(0,s.iH)(""),pref:(0,s.iH)(""),launchQueryPrefered:(0,s.iH)(!1),filter:(0,s.iH)(""),grid:!1,createDialog:!1,select:(0,s.iH)("SELECT * FROM "),where:(0,s.iH)(" WHERE "),toggleWhere:!1,preview:(0,s.iH)(""),libdatM:(0,s.iH)(null),optionLibdat:(0,s.iH)([]),stringOptLibdat:(0,s.iH)([]),fileM:(0,s.iH)(null),optionFile:s.iH[[]],stringOptFile:(0,s.iH)([]),filenamesArray:[],loadingFileM:!1,rows:[],columns:[{name:"VALORE",label:"VALORE",field:"VALORE",sortable:!0,align:"left"},{name:"COLUMN_NAME",label:"CAMPO",field:"COLUMN_NAME",sortable:!0,align:"center"},{name:"COLUMN_TEXT",label:"DESCRIZIONE",required:!0,field:"COLUMN_TEXT",sortable:!0,align:"left"},{name:"KEY_COLUMN",label:"CHIAVE",field:"KEY_COLUMN",sortable:!0,align:"left"}],columsLoading:!1,selected:(0,s.iH)([]),whereCompose:(0,s.iH)("")}),getters:{getQueryresult:e=>e.queries,getQueriesSaved:e=>e.queriesSaved,getQueriesPrefered:e=>e.queriesSaved.filter((e=>"S"===e.PREF)),getLibl:e=>e.optionLibdat,getFilenames:e=>e.optionFile,getColumns:e=>e.rows,getSelected:e=>e.selected},actions:{setPreview(){var e=this.preview.substring(0,this.preview.indexOf("WHERE"))+" WHERE ";this.selected.forEach((t=>{e+="\n"+t.COLUMN_NAME+" = "+("CHAR"===t.DATA_TYPE?"'"+t.VALORE+"'":t.VALORE)+"     AND "})),this.selected.length&&(e=e.slice(0,-4)),this.preview=e,this.compila()},sqlAutomati(){if(this.createDialog){var e="";null!=this.fileM&&(e=this.fileM.split("--\x3e",1)[0].trim()),this.preview=this.select+this.libdatM+"."+e+(this.toggleWhere?this.where:""),this.compila()}},compila(){this.sqlQuery=this.preview},cleanDialog(){this.queries=(0,s.iH)([]),this.gError=(0,s.iH)(null),this.loaderUserQuery=!1,this.loadingTable=!1,this.title=(0,s.iH)(""),this.sqlQuery=(0,s.iH)(""),this.note=(0,s.iH)(""),this.pref=(0,s.iH)(""),this.launchQueryPrefered=(0,s.iH)(!1),this.filter=(0,s.iH)(""),this.grid=!1,this.select=(0,s.iH)("SELECT * FROM "),this.where=(0,s.iH)(" WHERE "),this.toggleWhere=!1,this.preview=(0,s.iH)(""),this.fileM=(0,s.iH)(null),this.optionFile=s.iH[[]],this.stringOptFile=(0,s.iH)([]),this.filenamesArray=[],this.loadingFileM=!1,this.rows=[],this.columsLoading=!1,this.selected=(0,s.iH)([]),this.whereCompose=(0,s.iH)("")},cleanOnFilenameChange(){this.queries=(0,s.iH)([]),this.gError=(0,s.iH)(null),this.loaderUserQuery=!1,this.loadingTable=!1,this.title=(0,s.iH)(""),this.sqlQuery=(0,s.iH)(""),this.note=(0,s.iH)(""),this.pref=(0,s.iH)(""),this.launchQueryPrefered=(0,s.iH)(!1),this.filter=(0,s.iH)(""),this.grid=!1,this.select=(0,s.iH)("SELECT * FROM "),this.where=(0,s.iH)(" WHERE "),this.toggleWhere=!1,this.preview=(0,s.iH)(""),this.rows=[],this.columsLoading=!1,this.selected=(0,s.iH)([]),this.whereCompose=(0,s.iH)("")},async getColumsAction(e){let t="http://"+window.location.hostname+":3300/files/PRTFFLD1/?library="+e.lib+"&tablename="+e.fileName+"&as="+a.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},re0direct:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);var s=[];i.forEach((e=>{e.VALORE="",null!=e.COLUMN_TEXT&&""!==e.COLUMN_TEXT||(e.COLUMN_TEXT="No desc per "+e.COLUMN_NAME),s.push(e)})),this.rows=s},async getFilenamesAction(e){const t="http://"+window.location.hostname+":3300/files/FILENAMES/?library="+e.filename+"&as="+a.Z.getItem("as"),r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.optionFile=i},async getLibdatAction(e){let t="http://"+window.location.hostname+":3300/files/SCHEMA/?library="+e.user+"&as="+a.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);this.optionLibdat=i},async excecQuery(e){let t="http://"+window.location.hostname+":3300/files/?str="+e+"&as="+a.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();i.error?this.gError=i:(this.gError=null,this.queries=i)},async insertUserQuery(e){let t="http://"+window.location.hostname+":3300/files/inserOrUpdateUserQuery/?libdat="+e.user+"&title="+e.title+"&sqlstr="+e.sqlstr+"&note="+e.note+"&as="+a.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);await this.selectUserQuery(e.user)},async selectUserQuery(e){let t="http://"+window.location.hostname+":3300/files/selectUserQuery/?libdat="+e+"&as="+a.Z.getItem("as");const r=await fetch(t,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),i=await r.json();if(!r.ok)throw 409===i.code?new Error(i.message):new Error("Request failed with error code: "+r.status);500!==i.code&&(this.queriesSaved=i.map((e=>e.SQLSTR.includes("`")?{...e,SQLSTR:e.SQLSTR.replace(new RegExp("`","g"),"'")}:e)))},async deleteUserQuery(e,t){let r="http://"+window.location.hostname+":3300/files/deleteUserQuery/?libdat="+e+"&title="+t+"&as="+a.Z.getItem("as");const i=await fetch(r,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),s=await i.json();if(!i.ok)throw 409===s.code?new Error(s.message):new Error("Request failed with error code: "+i.status);500!==s.code&&await this.selectUserQuery(e)},async modifyQyeryPref(e,t,r){let i="http://"+window.location.hostname+":3300/files/updateStatusPref/?libdat="+e+"&title="+t+"&pref="+r+"&as="+a.Z.getItem("as");const s=await fetch(i,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),o=await s.json();if(!s.ok)throw 409===o.code?new Error(o.message):new Error("Request failed with error code: "+s.status);500!==o.code&&await this.selectUserQuery(e)}}})}}]);