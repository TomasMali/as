"use strict";(globalThis["webpackChunkweb_as400"]=globalThis["webpackChunkweb_as400"]||[]).push([[673],{6673:(e,t,l)=>{l.r(t),l.d(t,{default:()=>B});var a=l(3673),o=l(2323);const r={class:"q-ml-md"},s={style:{"max-height":"250px",overflow:"auto"}},n={class:"text-overline",style:{"font-size":"10px"}},i={style:{"max-height":"250px",overflow:"auto"}},u=(0,a._)("span",{class:"material-icons"}," play_circle ",-1),c={class:"text-overline",style:{"font-size":"10px"}};function d(e,t,l,d,m,p){const g=(0,a.up)("q-btn"),w=(0,a.up)("q-toolbar-title"),f=(0,a.up)("q-item-section"),v=(0,a.up)("q-item"),h=(0,a.up)("q-icon"),k=(0,a.up)("q-select"),b=(0,a.up)("q-toggle"),U=(0,a.up)("q-toolbar"),_=(0,a.up)("q-header"),I=(0,a.up)("q-item-label"),y=(0,a.up)("q-separator"),S=(0,a.up)("EssentialLink"),W=(0,a.up)("q-list"),x=(0,a.up)("q-avatar"),q=(0,a.up)("q-drawer"),L=(0,a.up)("router-view"),Q=(0,a.up)("q-page-container"),C=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(C,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{elevated:"",class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{class:"glossy"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a._)("small",null,(0,o.zw)(e.phrase.content)+" ("+(0,o.zw)(e.phrase.author)+") ",1)])),_:1}),(0,a.Wm)(k,{class:"q-mr-md select-color",style:{"max-width":"310px"},modelValue:e.modelId,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.modelId=t),e.setIp],"use-input":"","input-debounce":"0",label:"IP","label-color":"yellow",options:e.optionsIp,onFilter:e.filterIp,behavior:"menu"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"text-grey"},{default:(0,a.w5)((()=>[(0,a.Uk)("No results")])),_:1})])),_:1})])),append:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"lock",color:"white"})])),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"]),(0,a.Wm)(k,{style:{"max-width":"250px"},class:"q-mr-xl",modelValue:e.model,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.model=t),e.onClickLibdat],"use-input":"","input-debounce":"0",label:"PROFILO","label-color":"yellow",options:e.options,onFilter:e.filterFn,behavior:"menu"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{class:"text-grey"},{default:(0,a.w5)((()=>[(0,a.Uk)("No results")])),_:1})])),_:1})])),append:(0,a.w5)((()=>[(0,a.Wm)(h,{name:"lock",color:"white"})])),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"]),(0,a._)("div",r,[(0,a.Uk)(" Dark mode "),(0,a.Wm)(b,{color:"red",modelValue:e.dark,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dark=t),onClick:e.toggleDark},null,8,["modelValue","onClick"])])])),_:1})])),_:1}),(0,a.Wm)(q,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{header:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Essential Links ")])),_:1}),(0,a.Wm)(y,{class:"q-my-xs"}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.essentialLinks,(e=>((0,a.wg)(),(0,a.j4)(S,(0,a.dG)({class:"q-mt-md text-overline",key:e.title},e),null,16)))),128))])),_:1}),(0,a.Wm)(y,{style:{"margin-top":"36px"}}),(0,a.Wm)(I,{header:"",class:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Ricerche piÃ¹ recenti ")])),_:1}),(0,a._)("div",s,[(0,a.Wm)(W,{bordered:"",separator:"",class:"text-accent text-subtitle2"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.queryStr.getLocalStorageFilesList,((t,l)=>((0,a.wg)(),(0,a.j4)(v,{onClick:l=>e.execFromMenu(t),dense:"",clickable:"",key:t.filename},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x,{size:"25px"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(l+1),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a._)("div",n,(0,o.zw)(t.libname+"."+t.filename)+" ",1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})]),(0,a.Wm)(I,{header:"",class:""},{default:(0,a.w5)((()=>[(0,a.Uk)(" Query preferite ")])),_:1}),(0,a._)("div",i,[(0,a.Wm)(W,{bordered:"",separator:"",class:"text-primary text-subtitle2"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.queryStr.getQueriesPrefered,(t=>((0,a.wg)(),(0,a.j4)(v,{onClick:l=>e.exec(t.SQLSTR),dense:"",clickable:"",key:t.SQLSTR},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x,{size:"20px"},{default:(0,a.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a._)("div",c,(0,o.zw)(t.TITLE),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])])),_:1},8,["modelValue"]),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L)])),_:1})])),_:1})}l(5663);function m(e,t,l,r,s,n){const i=(0,a.up)("q-icon"),u=(0,a.up)("q-item-section"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(d,{clickable:"",tag:"a",to:e.link},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(u,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.title),1)])),_:1}),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["to"])}const p=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});var g=l(4260),w=l(3414),f=l(2035),v=l(4554),h=l(2350),k=l(7518),b=l.n(k);const U=(0,g.Z)(p,[["render",m]]),_=U;b()(p,"components",{QItem:w.Z,QItemSection:f.Z,QIcon:v.Z,QItemLabel:h.Z});var I=l(1959),y=l(1390),S=l(5214),W=l(6041),x=l(8825),q=l(8339),L=l(1965);const Q=[{title:"Home",caption:"home",icon:"home",to:"/home"}],C=(0,W.U)(),Z=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:_,Voice:L.Z},setup(){(0,I.iH)([1,3,4]);const e=(0,x.Z)(),t=((0,q.tv)(),(0,I.iH)(!1)),l=(0,I.iH)(!1),a=(0,I.iH)(null),o=(0,I.iH)([]),r=(0,I.iH)([]),s=(0,I.iH)([]),n=(0,I.iH)(["10.200.100.160 wrktommal"]),i=(0,I.iH)(["10.200.100.160 WRKTOMMAL"]),u=(0,y.o)(),c=(0,S.H)(),d=async t=>{C.loadingTable=!0,await C.excecQuery(e.localStorage.getItem("currentUser"),t),C.loadingTable=!1,C.launchQueryPrefered=!0},m=e=>{C.setFilenameSelected(e)},p=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();r.value=o.value.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{r.value=o.value})},g=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();n.value=s.value.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{n.value=s.value})},w=t=>{u.setCurrentUser(a.value),e.localStorage.set("currentUser",a.value),c.setUserPref(a.value),"null"!=e.localStorage.getItem("currentUser")?location.reload():e.localStorage.remove("currentUser")},f=()=>{""!==e.localStorage.getItem("currentUser")&&"null"!==e.localStorage.getItem("currentUser")&&null!==e.localStorage.getItem("currentUser")&&(a.value=e.localStorage.getItem("currentUser"),Q.push({title:"Query",caption:"Le mie query",icon:"search",to:"/query"}),Q.push({title:"Workitems",caption:"Gestisci WI",icon:"manage_accounts",to:"/workitems"}),Q.push({title:"Trova programma/file",caption:"Trova utilizzatore",icon:"verified",to:"/utilizzatore"}),Q.push({title:"Bot GPT",caption:"Chiedimi qualsiasi cosa",icon:"chat",to:"/botgpt"}),Q.push({title:"Preferenze",caption:"pref",icon:"settings ",to:"/preference"})),c.setUserPref(a.value)},v=async()=>{try{const e={user:""};await u.getUsersAction(e),u.getUsers.forEach((e=>{o.value.push(e.TABLE_SCHEMA)}))}catch(e){console.log(e)}},h=()=>{e.dark.toggle(),e.localStorage.set("darkMode",e.dark.isActive)},k=()=>{if(e.localStorage.getItem("as"))i.value[0]=e.localStorage.getItem("as")+" "+e.localStorage.getItem("userDb").toUpperCase();else{const t=i.value[0],l=t.substring(0,t.indexOf(" ")),o=t.substring(t.indexOf(" ")+1);e.localStorage.set("as",l),e.localStorage.set("userDb",o.toUpperCase()),a.value=e.localStorage.getItem("userDb").toUpperCase(),w()}},b=()=>{const t=i.value,l=t.substring(0,t.indexOf(" ")),a=t.substring(t.indexOf(" ")+1);e.localStorage.set("as",l),e.localStorage.set("userDb",a),e.localStorage.set("currentUser",a.toUpperCase().trim()),location.reload()},U=()=>{l.value=e.localStorage.getItem("darkMode"),void 0!=l.value&&null!=l.value||(l.value=!1),e.dark.set(l.value)},_=async()=>{await C.selectUserQuery(e.localStorage.getItem("currentUser")),C.setFileNameListLocalStorage()},W=async()=>{try{await u.getIpsAction(),u.getUserIps.forEach((e=>{n.value.push(e.CLIEIP+" "+e.USERDB),s.value.push(e.CLIEIP+" "+e.USERDB)}))}catch(e){console.log(e)}},L=(0,I.iH)(""),Z=async()=>{const e=await fetch("http://api.quotable.io/random?maxLength=70"),t=await e.json();L.value=t};return{essentialLinks:Q,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value},dark:l,setIp:b,toggleDark:h,loadDarkMode:U,filterFn:p,exec:d,execFromMenu:m,model:a,options:r,stringOptions:o,onClickLibdat:w,loadUsers:v,loadUserPrefs:f,loadUserQueries:_,as:u,pref:c,optionsIp:n,modelId:i,filterIp:g,loadIps:k,q:e,queryStr:C,loadUserIps:W,stringOptionsIp:s,phrase:L,loadPhrases:Z}},mounted(){this.loadPhrases(),this.loadUserIps(),this.loadIps(),this.loadDarkMode(),this.loadUserPrefs(),this.loadUsers(),this.loadUserQueries()}});var D=l(3066),H=l(3812),T=l(9570),z=l(8240),P=l(3747),V=l(3017),O=l(8886),E=l(2428),F=l(7011),M=l(5869),j=l(5096),A=l(2652);const R=(0,g.Z)(Z,[["render",d]]),B=R;b()(Z,"components",{QLayout:D.Z,QHeader:H.Z,QToolbar:T.Z,QBtn:z.Z,QToolbarTitle:P.Z,QSelect:V.Z,QItem:w.Z,QItemSection:f.Z,QIcon:v.Z,QToggle:O.Z,QDrawer:E.Z,QList:F.Z,QItemLabel:h.Z,QSeparator:M.Z,QAvatar:j.Z,QPageContainer:A.Z})}}]);