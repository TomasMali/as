"use strict";(globalThis["webpackChunkweb_as400"]=globalThis["webpackChunkweb_as400"]||[]).push([[749],{7749:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Y});var a=l(3673),o=l(2323);const r=(0,a.Uk)(" Powered by TOMMAL "),n=(0,a.Uk)("No results"),s={class:"q-ml-md"},u=(0,a.Uk)(" Dark mode "),i=(0,a.Uk)(" Essential Links "),c=(0,a.Uk)(" Query preferite "),d=(0,a._)("span",{class:"material-icons"}," star_rate ",-1),m=(0,a._)("span",{class:"material-icons"}," play_circle ",-1),p={class:"text-overline",style:{"font-size":"small"}};function g(e,t,l,g,w,f){const k=(0,a.up)("q-btn"),v=(0,a.up)("q-toolbar-title"),q=(0,a.up)("q-item-section"),y=(0,a.up)("q-item"),_=(0,a.up)("q-icon"),b=(0,a.up)("q-select"),U=(0,a.up)("q-toggle"),h=(0,a.up)("q-toolbar"),Q=(0,a.up)("q-header"),W=(0,a.up)("q-item-label"),S=(0,a.up)("q-separator"),L=(0,a.up)("EssentialLink"),Z=(0,a.up)("q-list"),I=(0,a.up)("q-avatar"),x=(0,a.up)("q-drawer"),C=(0,a.up)("router-view"),T=(0,a.up)("q-page-container"),D=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(D,{view:"lHh Lpr lFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{elevated:"",class:"q-py-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[r])),_:1}),(0,a.Wm)(b,{style:{"max-width":"250px"},class:"q-mr-xl",modelValue:e.model,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.model=t),e.onClickLibdat],"use-input":"","input-debounce":"0",label:"PROFILO","label-color":"white",options:e.options,onFilter:e.filterFn,behavior:"menu"},{"no-option":(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"text-grey"},{default:(0,a.w5)((()=>[n])),_:1})])),_:1})])),append:(0,a.w5)((()=>[(0,a.Wm)(_,{name:"lock",color:"white"})])),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"]),(0,a._)("div",s,[u,(0,a.Wm)(U,{color:"red",modelValue:e.dark,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dark=t),onClick:e.toggleDark},null,8,["modelValue","onClick"])])])),_:1})])),_:1}),(0,a.Wm)(x,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[2]||(t[2]=t=>e.leftDrawerOpen=t),"show-if-above":"",bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{header:""},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(S,{class:"q-my-md"}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.essentialLinks,(e=>((0,a.wg)(),(0,a.j4)(L,(0,a.dG)({class:"q-mt-md text-overline",key:e.title},e),null,16)))),128))])),_:1}),(0,a.Wm)(S,{style:{"margin-bottom":"150px"}}),(0,a.Wm)(W,{header:""},{default:(0,a.w5)((()=>[c,(0,a.Wm)(I,{class:"q-ml-md",size:"26px",color:"orange"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1}),(0,a.Wm)(Z,{bordered:"",separator:"",class:"text-primary text-subtitle2",style:{"max-height":"800px",overflow:"auto"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.queryStr.getQueriesPrefered,(t=>((0,a.wg)(),(0,a.j4)(y,{dense:"",clickable:"",key:t.SQLSTR},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{dense:""},{default:(0,a.w5)((()=>[(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I,{size:"26px"},{default:(0,a.w5)((()=>[m])),_:1})])),_:1})])),_:1}),(0,a.Wm)(q,{onClick:l=>e.exec(t.SQLSTR)},{default:(0,a.w5)((()=>[(0,a._)("div",p,(0,o.zw)(t.TITLE),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a.Wm)(C)])),_:1})])),_:1})}function w(e,t,l,r,n,s){const u=(0,a.up)("q-icon"),i=(0,a.up)("q-item-section"),c=(0,a.up)("q-item-label"),d=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(d,{clickable:"",tag:"a",to:e.link},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(i,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.title),1)])),_:1}),(0,a.Wm)(c,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.caption),1)])),_:1})])),_:1})])),_:1},8,["to"])}const f=(0,a.aZ)({name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}});var k=l(4260),v=l(3414),q=l(2035),y=l(4554),_=l(2350),b=l(7518),U=l.n(b);const h=(0,k.Z)(f,[["render",w]]),Q=h;U()(f,"components",{QItem:v.Z,QItemSection:q.Z,QIcon:y.Z,QItemLabel:_.Z});var W=l(1959),S=l(1390),L=l(5214),Z=l(6041),I=l(8825),x=l(8339);const C=[{title:"Home",caption:"home",icon:"home",to:"/home"}],T=(0,Z.U)(),D=(0,a.aZ)({name:"MainLayout",components:{EssentialLink:Q},setup(){(0,W.iH)([1,3,4]);const e=(0,I.Z)(),t=((0,x.tv)(),(0,W.iH)(!1)),l=(0,W.iH)(!1),a=(0,W.iH)(null),o=(0,W.iH)([]),r=(0,W.iH)([]),n=(0,S.o)(),s=(0,L.H)(),u=async e=>{T.loadingTable=!0,await T.excecQuery(e),T.loadingTable=!1,T.launchQueryPrefered=!0},i=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();r.value=o.value.filter((e=>e.toLowerCase().indexOf(t)>-1))}:()=>{r.value=o.value})},c=t=>{n.setCurrentUser(a.value),e.localStorage.set("currentUser",a.value),s.setUserPref(a.value),"null"!=e.localStorage.getItem("currentUser")?location.reload():e.localStorage.remove("currentUser")},d=()=>{""!==e.localStorage.getItem("currentUser")&&"null"!==e.localStorage.getItem("currentUser")&&null!==e.localStorage.getItem("currentUser")&&(a.value=e.localStorage.getItem("currentUser"),C.push({title:"Query",caption:"Le mie query",icon:"search",to:"/query"}),C.push({title:"Preferenze",caption:"pref",icon:"settings ",to:"/preference"})),s.setUserPref(a.value)},m=async()=>{try{const e={user:""};await n.getUsersAction(e),n.getUsers.forEach((e=>{o.value.push(e.TABLE_SCHEMA)}))}catch(e){console.log(e)}},p=()=>{e.dark.toggle(),e.localStorage.set("darkMode",e.dark.isActive)},g=()=>{console.log("dark mode:"),console.log(e.localStorage.getItem("darkMode")),l.value=e.localStorage.getItem("darkMode"),e.dark.set(l.value)},w=async()=>{await T.selectUserQuery(e.localStorage.getItem("currentUser"))};return{essentialLinks:C,leftDrawerOpen:t,toggleLeftDrawer(){t.value=!t.value},dark:l,toggleDark:p,loadDarkMode:g,filterFn:i,exec:u,model:a,options:r,stringOptions:o,onClickLibdat:c,loadUsers:m,loadUserPrefs:d,loadUserQueries:w,as:n,pref:s,q:e,queryStr:T}},mounted(){this.loadDarkMode(),this.loadUserPrefs(),this.loadUsers(),this.loadUserQueries()}});var H=l(3066),M=l(3812),P=l(9570),V=l(8240),E=l(3747),O=l(3017),z=l(8886),A=l(2428),F=l(7011),j=l(5869),R=l(5096),B=l(2652);const K=(0,k.Z)(D,[["render",g]]),Y=K;U()(D,"components",{QLayout:H.Z,QHeader:M.Z,QToolbar:P.Z,QBtn:V.Z,QToolbarTitle:E.Z,QSelect:O.Z,QItem:v.Z,QItemSection:q.Z,QIcon:y.Z,QToggle:z.Z,QDrawer:A.Z,QList:F.Z,QItemLabel:_.Z,QSeparator:j.Z,QAvatar:R.Z,QPageContainer:B.Z})}}]);