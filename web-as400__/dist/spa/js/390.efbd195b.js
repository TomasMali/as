"use strict";(globalThis["webpackChunkweb_as400"]=globalThis["webpackChunkweb_as400"]||[]).push([[390],{4390:(e,o,t)=>{t.r(o),t.d(o,{default:()=>T});t(5663);var s=t(3673),n=t(2323),a=t(1959),c=t(8880),r=t(1907),l=t(589);const i=(0,r.Q_)("botjexp",{state:()=>({botResponse:""}),getters:{getBotResponse:e=>e.botResponse},actions:{async setBotRequest(e){let o="http://10.100.0.30:8060/?query="+e;console.log(o);const t=await fetch(o,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),s=await t.json();if(console.log(s),!t.ok)throw 409===s.code?new Error(s.message):new Error("Request failed with error code: "+t.status);this.botResponse=s,this.sendLogsAction("BOT_JEXP "+e)},async sendLogsAction(e){let o="http://"+window.location.hostname+":3300/db2/log/?log="+l.Z.getItem("currentUser")+" Asked: ---\x3e      \n\n"+e;const t=await fetch(o,{method:"GET",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",enctype:"mutipart/form-data"}),s=await t.json();if(!t.ok)throw 409===s.code?new Error(s.message):new Error("Request failed with error code: "+t.status)}}});var u=t(8825);const p={class:"q-pa-md row justify-center",style:{height:"700px","overflow-y":"scroll"}},d={style:{width:"100%","max-width":"800px","max-height":""}},m={class:"code-formatter","bg-color":"amber"},h={key:0},g={class:"absolute-bottom"},v={class:"row"},w=(0,s._)("div",{class:"col"},null,-1),b={class:"col"},y=(0,s._)("div",{class:"col"},null,-1),f=(0,s._)("div",{class:"col"},null,-1),k={__name:"BotJexp",setup(e){const o=(0,u.Z)(),t=()=>o.localStorage.getItem("currentUser"),r=i(),l=(0,a.iH)(""),k=(0,a.iH)(""),_=(0,a.iH)("");var q=(0,a.iH)(!1);const x=(0,a.iH)([]),j=(0,a.iH)([]),B=()=>!0,R=()=>C(),C=async()=>{x.value=[];const e=l.value;l.value="",q.value=!0,_.value=e,j.value.push(e);try{await r.setBotRequest(e),k.value=r.getBotResponse,x.value.push(k.value),console.log(k.value),q.value=!1,l.value=""}catch(o){console.log(o)}};return(e,o)=>{const r=(0,s.up)("q-chat-message"),i=(0,s.up)("q-spinner-dots"),u=(0,s.up)("q-icon"),_=(0,s.up)("q-btn"),C=(0,s.up)("q-input");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",p,[(0,s._)("div",d,[(0,s.Wm)(r,{name:t(),text:j.value,avatar:"https://icons.iconarchive.com/icons/custom-icon-design/pretty-office-2/128/man-icon.png",sent:""},null,8,["name","text"]),B()?((0,s.wg)(),(0,s.j4)(r,{key:0,name:"Bot",avatar:"https://icons.iconarchive.com/icons/proycontec/robots/128/robot-screen-settings-icon.png","bg-color":"amber"})):((0,s.wg)(),(0,s.j4)(r,{key:1,name:"Bot",avatar:"https://icons.iconarchive.com/icons/proycontec/robots/128/robot-screen-settings-icon.png","bg-color":"amber",text:x.value},null,8,["text"])),(0,s._)("div",m,[B()?((0,s.wg)(),(0,s.iD)("pre",h,[(0,s.Uk)("                           "),(0,s._)("code",null,"\n                           "+(0,n.zw)(k.value)+"\n                          ",1),(0,s.Uk)("\n                       ")])):(0,s.kq)("",!0)]),(0,a.SU)(q)?((0,s.wg)(),(0,s.j4)(i,{key:2,"bg-color":"amber",size:"2rem"})):(0,s.kq)("",!0)])]),(0,s._)("div",g,[(0,s._)("div",v,[w,(0,s._)("div",b,[y,(0,s.Wm)(C,{outlined:"","bottom-slots":"",onKeyup:(0,c.D2)(R,["enter"]),modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),label:"Chiedimi qualsiasi cosa"},{append:(0,s.w5)((()=>[""!==l.value?((0,s.wg)(),(0,s.j4)(u,{key:0,name:"close",onClick:o[0]||(o[0]=e=>l.value=""),class:"cursor-pointer"})):(0,s.kq)("",!0)])),after:(0,s.w5)((()=>[(0,s.Wm)(_,{onClick:R,round:"",dense:"",flat:"",icon:"send"})])),_:1},8,["onKeyup","modelValue"])]),f])])])}}};var _=t(629),q=t(4765),x=t(4842),j=t(4554),B=t(8240),R=t(7518),C=t.n(R);const E=k,T=E;C()(k,"components",{QChatMessage:_.Z,QSpinnerDots:q.Z,QInput:x.Z,QIcon:j.Z,QBtn:B.Z})}}]);